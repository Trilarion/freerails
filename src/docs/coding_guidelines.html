<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Coding Guidelines</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body>
<p><strong>Coding Guidelines</strong></p>
<p>Last modifled @lastModified@ </p>
<p><strong>Rules</strong></p>
<p>I've tried to keep the rules to a minimum and make most of the guidelines 
  suggestions.</p>
<p>(1) Package dependencies. (i) Avoid circular dependencies between packages. 
  I.e. if any classes in package A import classes from package B, then classes 
  in package B should not import classes from package A. (ii) Follow the <a href="dependencies.html">package 
  dependency rules</a>. The <strong>checkdep</strong> ant script tests compliance. 
  To run it type: <code>ant -f checkdep.xml </code> The script and the html page 
  are generated by the class <code>experimental.GenerateDependenciesXmlAndHtml</code>.</p>
<p> (2) Some of the GUI classes have been created using the <a href="http://www.netbeans.org/" target="_blank">NetBeans</a> 
  GUI editor. The .java files for these classes have corresponding .form files. 
  Within the java files are protected sections of code, if you edit these files, 
  please do not alter these sections by hand.</p>
<p><strong>Suggestions</strong></p>
<p>(1) Generally follow the <a href="http://java.sun.com/docs/codeconv/">sun java 
  coding converions</a>.</p>
<p>(2) Run all unit tests after making changes to see whether anything has broken. 
  You can do this using the <strong>test </strong><a href="http://ant.apache.org/" target="_blank">Ant</a> 
  target.</p>
<p>(3) Check the <strong>javadoc</strong> Ant target runs without errors or warnings.</p>
<p>(4) Javadoc comments. Add a couple of sentences saying what the class does 
  and the reason for its addition with a date. Also use the @author tag if you 
  add a new class or make a significant change to an existing one.</p>
<p>(5) Use Code Formatters with care. Avoid reformatting whole files with different 
  formatting schemes when you have only changed a few lines.</p>
<p>(6) Consider writing <a href="http://www.junit.org" target="_blank">junit</a> 
  tests.</p>
<p>(7) Consider using <a href="http://java.sun.com/j2se/1.4.2/docs/guide/lang/assert.html" target="_blank">assertions</a>.</p>
<p>(8) Add <code>//FIXME</code> ..and <code>//TODO</code> comments if you spot 
  possible problems in existing code<strong>.</strong></p>
<p>(9) Use logging instead of <code>System.out</code> or <code>System.err for 
  debug messages. Each class should have its own logger, e.g.</code></p>
<p><code>private static final Logger logger = Logger.getLogger(SomeClass.class.getName());</code></p>
<p><strong>Submitting Patches</strong></p>
<p>(1) Small patches that fix one thing, add one feature, or clean up one aspect 
  of the code are generally the easiest to manage.</p>
<p>(2) Run CVS diff with output in 'unified' format. (You can do this in Eclipse 
  by selecting <em>Team -&gt; Create Patch</em>.)</p>
<p>(3) Check list:</p>
<blockquote> 
  <p> (A) Is there patch against the lastest code in CVS? I.e. if you do a fresh 
    CVS checkout of the jfreerails module, does the patch apply correctly.</p>
  <p>(B) If you have create new files, are they included in the patch? Look at 
    the -N option.</p>
  <p>(C) Are binary files excluded from the diff file? Any new or modified binary 
    files, *.png, *.wav etc, should be included separately.</p>
  <p>(D) Do the following Ant targets work without warnings or errors when the 
    patch is applied against a fresh CVS checkout?</p>
  <blockquote>
    <p><code><strong>ant compile</strong></code><br>
      <strong><code>ant test</code></strong><br>
      <strong><code>ant run</code></strong><br>
      <strong><code>ant -f checkdep.xml</code></strong><br>
      <strong><code>ant javadoc</code></strong></p>
  </blockquote>
  <p>(E) Does the patch have a meaningful filename? E.g. <code>bug910902_patch1.diff</code>.</p>
</blockquote>
<p>(4) Submit patches using the <a href="http://sourceforge.net/tracker/?func=browse&group_id=9495&atid=309495" target="_blank">patch</a> 
  or <a href="http://sourceforge.net/tracker/?group_id=9495&atid=109495" target="_blank">bug</a> 
  tracker on the freerails sourceforge page.</p>
<p><strong>Books</strong></p>
<p>I've found the following useful.</p>
<p><a href="http://java.sun.com/docs/books/effective/" target="_blank">Effective Java</a> (sample 
  chapters online)</p>
<p><a href="http://java.sun.com/docs/books/performance/" target="_blank">Java Platform Performance</a> 
  (available online)</p>
<p><a href="http://www.joelonsoftware.com/uibook/chapters/fog0000000057.html" target="_blank">User 
  Interface Design for Programmers</a> (available online)</p>
<p>&nbsp;</p>
</body>
</html>
