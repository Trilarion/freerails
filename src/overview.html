<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Untitled Document</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body>
<p>This is an overview of the jfreerails source code. </p>
<p><strong>Other documents</strong></p>

<p><a href="docs/coding_guidelines.html">Coding guidelines</a></p>
<p><a href="docs/people.html">People</a></p>
<p><a href="docs/keymap.html">Key Map</a></p>
<p><strong>Brief overview of the architecture</strong></p>
<p>(1) The model and the view are separated. The classes that make up the model, 
  referred to as the <em>game world</em>, are in the jfreerails.world.* packages. 
  The view classes are in the jfreerails.client.* packages. </p>
<p>(2) All changes to the game world that occur after the game has started, referred 
  to as <em>moves</em>, are done using the classes in the package <a href="jfreerails/move/package-summary.html">jfreerails.move</a> 
  There are more details <a href="jfreerails/move/package-summary.html">here</a>.</p>
<p>(3) At some stage, the client and server will be separated. When this happens, 
  the game will work as follows. When the game starts or a game is loaded, the 
  server will send the client a copy of the game world. When the player does something, 
  e.g. build track, the client will send a move to the server. The server will 
  validate the move and update its copy of the game world, then send the move 
  back to the client (and to the clients belonging to any other players). The 
  clients will then, and only then, update their copies of the game world. Moves 
  that are not caused by the player doing something, e.g. the growth of cities, 
  will be generated by the server.</p>
<p><strong>Dependencies between packages</strong></p>
<p> The figures below show the dependencies: packages may only depend, i.e. import 
  classes and interfaces, from packages below.</p>
<table width="75%" border="1" cellpadding="10" cellspacing="10" bordercolor="#333333" bgcolor="#FFFFFF">
  <tr bgcolor="#FFCCCC"> 
    <td height="50" colspan="2">experimental.* &amp; jfreerails</td>
  </tr>
  <tr bgcolor="#FFCCCC"> 
    <td bgcolor="#99FF99">jfreerails.client.* (see below)</td>
    <td>jfreerails.server.*</td>
  </tr>
  <tr bgcolor="#FFCCCC"> 
    <td colspan="2">jfreerails.controller.*</td>
  </tr>
  <tr bgcolor="#FFCCCC"> 
    <td>jfreerails.move </td><td>jfreerails.accounts</td>
  </tr>
  <tr bgcolor="#FFCC66"> 
    <td colspan="2">jfreerails.world.* (see below)</td>
  </tr>
  <tr bgcolor="#FFCCCC"> 
    <td height="50" colspan="2">jfreerails.util &amp; it.unimi.dsi.fastUtil</td>
  </tr>
  <tr bgcolor="#CCCCCC"> 
    <td height="30" colspan="2">Java 1.4. packages</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>The jfreerails.world.* packages</p>
<p>&nbsp;</p>
<table width="75%" border="1" cellpadding="10" cellspacing="10" bordercolor="#333333" bgcolor="#FFFFFF">
  <tr bgcolor="#FFCCCC"> 
    <td height="50" colspan="5" bgcolor="#FFCC66">jfreerails.world.top</td>
  </tr>
  <tr bgcolor="#FFCC66"> 
    <td>jfreerails.world.track</td>
    <td>jfreerails.world.train</td>
    <td>jfreerails.world.station</td>
  </tr>
  <tr bgcolor="#FFCCCC"> 
    <td bgcolor="#FFCC66">jfreerails.world.terrain</td>
    <td colspan="2" bgcolor="#FFCC66">jfreerails.world.cargo</td>
  </tr>
  
  <tr bgcolor="#FFCCCC"> 
    <td height="50" colspan="5" bgcolor="#FFCC66">jfreerails.world.common</td>
  </tr>
</table>
<p>The jfreerails.client.* packages.</p>
<table width="75%" border="1" cellpadding="10" cellspacing="10" bordercolor="#333333" bgcolor="#FFFFFF">
  <tr bgcolor="#FFCCCC"> 
    <td height="50" colspan="3" bgcolor="#99FF99">jfreerails.client.top</td>
  </tr>
  <tr bgcolor="#FFCCCC"> 
    <td  bgcolor="#99FF99">jfreerails.client.view</td>
    <td rowspan="2" bgcolor="#99FF99">jfreerails.client.menu</td>
  </tr>
  <tr bgcolor="#FFCCCC"> 
    <td bgcolor="#99FF99">jfreerails.client.renderer</td>
  </tr>
  <tr bgcolor="#FFCCCC"> 
    <td colspan="3" bgcolor="#99FF99">jfreerails.client.common</td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp; </p>
</body>
</html>
